{% extends "base.html" %}
{% block content %}

<div class="container">
    <div class="jumbotron">
        <h1>Edit Resource</h1>
        <form id="editConfirm" action="{{ url_for('edit_resource', resource_id=resource._id) }}" method="POST">
                <p>Hi {{ session.user|title }}, please edit neccessary fields below</p>
                <hr>

                <!-- category -->
                <div class="row">
                    <label for="category_name">
                        <i class="fas fa-folder-open"></i>
                        Category Name:
                        <span class="red-asterisk"> *</span>
                    </label>
                    <select name="category_name" id="category_name" class="browser-default custom-select validate"
                        required>
                        <option value="" disabled>
                            -Select a Category-
                        </option>
                        {% for category in categories  %}
                        {% if category.category_name == resource.category_name %}
                        <option value="{{ category.category_name }}" selected>{{ category.category_name }}
                        </option>
                        {% else %}
                        <option value="{{ category.category_name }}">{{ category.category_name }}
                        </option>
                        {% endif %}
                        {% endfor  %}
                    </select>
                </div>

                <!-- title -->
                <div class="row">
                    <label for="title">
                        <i class="fas fa-file-alt"></i>
                        Title:
                        <span class="red-asterisk"> *</span>
                    </label>
                    <input type="text" name="title" id="title" class="form-control  validate mb-4"
                        value="{{- resource.title -}}" minlength="5" maxlength="50" required>
                </div>

                <!-- description -->
                <div class="row">
                    <label for="description">
                        <i class="fas fa-comments"></i>
                        Resource Description:
                        <span class="red-asterisk"> *</span>
                    </label>
                    <textarea type="text" name="description" id="description" class="form-control mb-4 validate"
                        placeholder="Please be detailed" rows="5" minlength="5" maxlength="200" required>
                        {{- resource.description -}}
                    </textarea>
                </div>

                <!-- channel lead name -->
                <div class="row">
                    <label for="created_by">
                        <i class="fab fa-slack"></i>
                        Slack Lead Username:
                        <span class="red-asterisk"> *</span>
                    </label>
                    <input type="text" name="created_by" id="created_by" class="form-control validate mb-4"
                        value="{{ resource.created_by|title }}" minlength=" 5" maxlength="50" required>
                </div>

                <hr>

                <!-- document url location -->
                <div class="row">
                    <label for="document_url">
                        <i class="fas fa-cloud-upload-alt"></i>
                        Document Location:
                    </label>
                    <input type="url" name="document_url" id="document_url" class="form-control validate mb-4"
                        value="{{ resource.document_url }}" minlength="5" maxlength="50">
                </div>

                <!-- video url location -->
                <div class="row">
                    <label for="video_url">
                        <i class="fas fa-cloud-upload-alt"></i>
                        Video Embed Code:
                    </label>
                    <textarea type="text" name="video_url" id="video_url" class="form-control validate mb-4" rows="4"
                        minlength="5">
                        {{- resource.video_url -}}
                    </textarea>
                </div>

                <hr>

                <!-- date picker -->
                <!-- <div class="row">
                    <label for="date">
                        <i class="far fa-calendar-alt"></i>
                        Date Posted:
                        <span class="red-asterisk"> *</span>
                    </label>
                    <input type="text" name="date" id="date" class="form-control validate mb-4"
                        value="{{ resource.date }}" placeholder="dd/mm/yy" required>
                </div> -->


                <!-- submit button -->
                <div class="row">
                    <div class="col-6">
                        <!-- Button trigger modal-->
                        <button type="button" class="btn btn-primary btn-block my-4" data-toggle="modal"
                            data-target="#modalEdit">
                            <i class="far fa-check-circle"></i>
                            EDIT
                        </button>
                    </div>
                    <!-- Cancel button - return to resource page -->
                    <div class="col-6">
                        <a href="{{ url_for('resources') }}" class="btn btn-danger btn-block my-4">
                            <i class="fas fa-times-circle"></i>
                            Cancel
                        </a>
                    </div>
                </div>
        </form>
    </div>
</div>

{% endblock %}